(this.webpackJsonptask=this.webpackJsonptask||[]).push([[0],{40:function(e,t){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),o=n.n(c),s=n(4),u=n(20),i=n(42),l=n(43),p=n(44),m=n(18),h=n(1),d=n.n(h),f=n(2),v=n(5),g=n.n(v),b=n(14),E=Object(b.a)(),k="GET_USER",y="REMOVE_USER",w="ADD_USER",O={},j=function(e){return{type:k,user:e}},x=function(){return function(){var e=Object(f.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/auth/me");case 3:n=e.sent,t(j(n.data||O)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e,t,n,a,r){return function(){var c=Object(f.a)(d.a.mark((function c(o){var s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,g.a.post("/auth/".concat(n),{email:e,password:t,name:name,firstName:a,lastName:r});case 3:s=c.sent,E.push("/home"),c.next=10;break;case 7:return c.prev=7,c.t0=c.catch(0),c.abrupt("return",o(j({error:c.t0})));case 10:try{o(j(s.data)),E.push("/home")}catch(u){console.error(u)}case 11:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()},S="GET_TASKS",C="ADD_TASK",T="DELETE_TASK",I=[],G=function(e){return{type:S,tasks:e}},D=function(e){return{type:C,task:e}},M=function(e){return{type:T,taskId:e}};var A=n(23),U={},_="GET_TASK",F="UPDATE_TASK",L=function(e){return{type:GET_SINGLE_TASK,task:e}},R=function(e){return{type:F,task:e}};var P="GET_GROCERIES",W="ADD_GROCERY_ITEM",K="DELETE_GROCERY_ITEM",Y=[],q=function(e){return{type:P,groceries:e}},H=function(e){return{type:W,grocery:e}};var B="GET_GROUPS",X="ADD_GROUP",J="DELETE_GROUP",Q=[],V=function(e){return{type:B,groups:e}},$=function(e){return{type:X,group:e}},z=function(e){return{type:J,groupId:e}};var Z="SET_SINGLE_GROUP",ee=function(e){return{type:Z,group:e}},te=function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.put("/api/groups/".concat(groupId),e);case 3:a=t.sent,r=a.data,n(ee(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("error updating group");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ne={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return t.group;default:return e}},re=Object(u.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.user;case y:return O;case w:return[].concat(Object(m.a)(e),[t.user]);default:return e}},singletask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case F:return Object(A.a)(Object(A.a)({},e),t.task);default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.tasks;case C:return[].concat(Object(m.a)(e),[t.task]);case T:return Object(m.a)(e);default:return e}},groceries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return t.groceries;case W:return[].concat(Object(m.a)(e),[t.grocery]);case K:return Object(m.a)(e);default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.groups;case X:return[].concat(Object(m.a)(e),[t.group]);case J:return Object(m.a)(e);default:return e}},singleGroup:ae}),ce=Object(p.composeWithDevTools)(Object(u.applyMiddleware)(l.a,Object(i.createLogger)({collapsed:!0}))),oe=Object(u.createStore)(re,ce),se=n(6),ue=(n(71),Object(s.b)((function(e){return{user:e.user,isLoggedIn:!!e.user.id}}),(function(e){return{handleClick:function(){e(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/auth/logout");case 3:t({type:y}),E.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.handleClick,n=e.isLoggedIn,a=e.user;return r.a.createElement("div",{className:"sidenav-wrapper"},r.a.createElement("div",{id:"logo"},r.a.createElement(se.a,{to:"/home"},"Home")),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"myTools"},r.a.createElement("h3",null,"My Tools"),r.a.createElement(se.a,{to:"/tasks"},"Tasks"),r.a.createElement(se.a,{to:"/grocery"},"Groceries"),r.a.createElement(se.a,{to:"/groups"},"My Groups")),r.a.createElement("div",{className:"account-box"},r.a.createElement(se.a,{to:"/account"},r.a.createElement("img",{src:a.avatarUrl})),r.a.createElement("div",{className:"accountlinks"},r.a.createElement("div",null,a.firstName," ",a.lastName),r.a.createElement(se.a,{to:"/account"},"My Account"),r.a.createElement("a",{href:"#",onClick:t},"Sign Out")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"accountlinks"},r.a.createElement(se.a,{to:"/login"},"Login"),r.a.createElement(se.a,{to:"/signup"},"Sign Up"))))}))),ie=(n(73),function(){return r.a.createElement("div",{className:"bottomnav-wrapper"},r.a.createElement(se.a,{to:"/home"},"Home"))}),le=(n(74),Object(s.b)((function(e){return{firstName:e.user.firstName}}))((function(e){e.firstName;return r.a.createElement("div",{className:"userhome-wrapper"},r.a.createElement("h1",null,"User Home"))}))),pe=(n(75),function(){return r.a.createElement("div",{className:"homepage-wrap"},r.a.createElement("h1",null,"Welcome to our app"),r.a.createElement("li",null,"How to install our app - Android - iOS"),r.a.createElement("li",null,"About Us"),r.a.createElement("li",null,"FAQs"),r.a.createElement("li",null,"Getting Started"))}),me=n(7),he=function(e){var t=e.name,n=e.displayName,a=e.handleSubmit,c=e.error;return r.a.createElement("div",{className:"forms"},r.a.createElement("div",{className:"form_info"},r.a.createElement("form",{onSubmit:a,name:t},"Login"!=n?r.a.createElement("div",null,r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"firstName"},r.a.createElement("small",{className:"form-names"},"First Name")),r.a.createElement("input",{className:"info-input",name:"firstName",type:"text",required:!0})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"lastName"},r.a.createElement("small",{className:"form-names"},"Last Name")),r.a.createElement("input",{className:"info-input",name:"lastName",type:"text",required:!0}))):null,r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"email"},r.a.createElement("small",{className:"form-names"},"Email")),r.a.createElement("input",{className:"info-input",name:"email",type:"text",required:!0})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"password"},r.a.createElement("small",{className:"form-names"},"Password")),r.a.createElement("input",{className:"info-input",name:"password",type:"password",required:!0})),"Login"!=n?r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{htmlFor:"confirmPassword"},r.a.createElement("small",{className:"form-names"},"Confirm Password")),r.a.createElement("input",{className:"info-input",name:"confirmPassword",type:"password",required:!0})):null,r.a.createElement("div",{className:"form-input"},r.a.createElement("button",{className:"login_button",type:"submit"},n)),r.a.createElement("h3",null,c&&c.response&&r.a.createElement("div",null," ",c.response.data," ")))),r.a.createElement("a",{href:"/auth/google"},n," with Google"))},de=function(e){return{handleSubmit:function(t){t.preventDefault();var n=t.target.name;if("login"===n){var a=t.target.email.value,r=t.target.password.value;e(N(a,r,n))}else if("signup"===n){var c=t.target.email.value,o=t.target.password.value,s=t.target.firstName.value,u=t.target.lastName.value;e(N(c,o,n,s,u))}}}},fe=Object(me.g)(Object(s.b)((function(e){return{name:"login",displayName:"Login",error:e.user.error}}),de)(he)),ve=Object(me.g)(Object(s.b)((function(e){return{name:"signup",displayName:"Sign Up",error:e.user.error}}),de)(he)),ge=Object(s.b)((function(e){return{email:e.user.email}}))((function(e){e.email;return r.a.createElement("div",null,r.a.createElement("h3",null,"My Account"),r.a.createElement(se.a,{to:"/account/settings"},"Account Settings"),r.a.createElement("div",null,"Edit Groups"),r.a.createElement("div",null,"My Stats"))})),be=n(9),Ee=n(10),ke=n(8),ye=n(12),we=n(11),Oe=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(e){var a;return Object(be.a)(this,n),(a=t.call(this,e)).state={formStatus:!1},a.toggleFormStatus=a.toggleFormStatus.bind(Object(ke.a)(a)),a}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.loadInitialData()}},{key:"toggleFormStatus",value:function(){this.setState({formStatus:!this.state.formStatus})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Personal Info:"),r.a.createElement("button",{onClick:this.toggleFormStatus},"Edit"),this.state.formStatus?r.a.createElement("div",null,"Change"):null,r.a.createElement("li",null,"Name: ",e.firstName," ",e.lastName),r.a.createElement("li",null,"Email: ",e.email),r.a.createElement("li",null,"Password")))}}]),n}(a.Component),je=Object(s.b)((function(e){return{user:e.user}}),(function(e){return{loadInitialData:function(){e(x())}}}))(Oe),xe=(n(40),n(19)),Ne=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(e){var a;return Object(be.a)(this,n),(a=t.call(this,e)).state={name:""},a}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){try{this.props.getTask(this.props.match.params.taskId)}catch(e){next(e)}}},{key:"render",value:function(){var e=this.props.task;return console.log(e),r.a.createElement("div",{id:"single-task"},r.a.createElement("h3",null,e.name),r.a.createElement("h3",null,"Description"))}}]),n}(a.Component),Se=(Object(s.b)((function(e){return{task:e.singletask}}),(function(e){return{getTask:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/tasks/".concat(e));case 3:a=t.sent,r=a.data,n(L(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error fetching task!"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ne),n(76),function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(e){var a;return Object(be.a)(this,n),(a=t.call(this,e)).state={name:"",showModal:!1},a.handleChange=a.handleChange.bind(Object(ke.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(ke.a)(a)),a.showModal=a.showModal.bind(Object(ke.a)(a)),a}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchTasks(this.props.match.params.userId)}},{key:"handleChange",value:function(e){this.setState(Object(xe.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,this.props.addTask(this.state);case 4:console.log(this.state),this.setState({name:""}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error creating task",e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.deleteTask(t);case 3:this.props.fetchTasks(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"showModal",value:function(e){this.setState({showModal:!0})}},{key:"render",value:function(){var e=this,t=this.props.tasks;return r.a.createElement("div",{className:"task-wrapper"},r.a.createElement("h1",{className:"tool-title"},"My Tasks"),r.a.createElement("div",{id:"task-box"},t.length?t.map((function(t){return r.a.createElement("p",{key:t.id,className:"singletask"},t.name,r.a.createElement("button",{onClick:function(){return e.handleDelete(t.id)},className:"deleteTask"},"X"))})):"You have no tasks"),r.a.createElement("form",{id:"add-task-form",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"name"},"Add Task:"),r.a.createElement("input",{name:"name",type:"text",onChange:this.handleChange,value:this.state.name}),r.a.createElement("button",{type:"submit"},"Add")))}}]),n}(r.a.Component)),Ce=Object(s.b)((function(e){return{tasks:e.tasks,userId:e.user.id}}),(function(e){return{fetchTasks:function(t){return e(function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/tasks");case 3:n=e.sent,a=n.data,t(G(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error fetching tasks");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},deleteTask:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.delete("/api/tasks/".concat(e));case 3:n(M(e)),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error deleting task!"),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},addTask:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,g.a.post("/api/tasks/",e);case 4:a=t.sent,r=a.data,n(D(r)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error adding task!"),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},updateTask:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.put("/api/tasks/".concat(e.taskId),e);case 3:a=t.sent,r=a.data,n(R(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error updating task!"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Se),Te=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(e){var a;return Object(be.a)(this,n),(a=t.call(this,e)).state={name:"",showModal:!1},a.handleChange=a.handleChange.bind(Object(ke.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(ke.a)(a)),a.showModal=a.showModal.bind(Object(ke.a)(a)),a}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchItems(this.props.match.params.userId)}},{key:"handleChange",value:function(e){this.setState(Object(xe.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,this.props.addItem(this.state);case 4:this.setState({name:""}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("error creating grocery item",e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDelete",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.deleteItem(t);case 3:this.props.fetchItems(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"showModal",value:function(e){this.setState({showModal:!0})}},{key:"render",value:function(){var e=this,t=this.props.groceries;return r.a.createElement("div",{id:"groceries-wrap"},r.a.createElement("form",{id:"add-grocery-form",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"name"},"Add Grocery Item:"),r.a.createElement("input",{name:"name",type:"text",onChange:this.handleChange,value:this.state.name}),r.a.createElement("button",{type:"submit"},"Add")),r.a.createElement("h3",null,"My Groceries"),t.map((function(t){return r.a.createElement("p",{key:t.id},t.name,r.a.createElement("button",{onClick:function(){return e.handleDelete(t.id)},className:"delete-item"},"X"))})))}}]),n}(r.a.Component),Ie=Object(s.b)((function(e){return{groceries:e.groceries,userId:e.user.id}}),(function(e){return{fetchItems:function(t){return e(function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/groceries");case 3:n=e.sent,a=n.data,t(q(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error fetching groceries");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},deleteItem:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.delete("/api/groceries/".concat(e));case 3:n({type:K,grocery:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error deleting grocery item!"),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},addItem:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/groceries/",e);case 3:a=t.sent,r=a.data,n(H(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error adding grocery item!"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Te),Ge=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(e){return Object(be.a)(this,n),t.call(this,e)}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchGroups(this.props.match.params.userId)}},{key:"handleDelete",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.deleteGroup(t);case 3:this.props.fetchGroups(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.groups;return r.a.createElement("div",{className:"group-wrapper"},r.a.createElement("h1",{className:"tool-title"},"My Groups"),r.a.createElement(se.a,{to:"/groups/create"},"Create a Group"),t.length?r.a.createElement("div",{id:"group-box"},t.map((function(t){return r.a.createElement("div",{key:t.id,className:"singlegroup"},r.a.createElement(se.a,{to:"/groups/".concat(t.id)},t.name),r.a.createElement("button",{onClick:function(){return e.handleDelete(t.id)},className:"deletegroup"},"X"))}))):"You are not a part of any groups.")}}]),n}(r.a.Component),De=Object(s.b)((function(e){return{groups:e.groups,userId:e.user.id}}),(function(e){return{fetchGroups:function(t){return e(function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("inside thunks"),e.next=4,g.a.get("/api/groups");case 4:n=e.sent,a=n.data,console.log(a,"groups inside thunks"),t(V(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error fetching groups");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},deleteGroup:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.delete("/api/groups/".concat(e));case 3:n(z(e)),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error deleting group!"),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},updateGroup:function(t){return e(te(t))}}}))(Ge),Me=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(){var e;return Object(be.a)(this,n),(e=t.call(this)).state={name:"",description:"",redirectTo:null},e.handleChange=e.handleChange.bind(Object(ke.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(ke.a)(e)),e}return Object(Ee.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(xe.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,this.props.addGroup(this.state);case 4:""===this.state.name&&alert("group name can't be empty!"),this.setState({redirectTo:"/groups"}),alert('Your group "'.concat(this.state.name,'" was created! Redirecting you to your groups page..')),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error creating group",e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirectTo?r.a.createElement(me.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",{className:"group-wrapper"},r.a.createElement("h1",null,"Create Group"),r.a.createElement("form",{id:"add-group-form",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"name"},"Name:"),r.a.createElement("input",{name:"name",type:"text",placeholder:"Your new group's name",onChange:this.handleChange,value:this.state.name}),r.a.createElement("label",{htmlFor:"name"},"Description:"),r.a.createElement("input",{name:"description",type:"textarea",placeholder:"Write a description",onChange:this.handleChange,value:this.state.description}),r.a.createElement("button",{type:"submit"},"Add")))}}]),n}(r.a.Component),Ae=Object(s.b)(null,(function(e){return{addGroup:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/groups",e);case 3:a=t.sent,r=a.data,n($(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error adding group!"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Me),Ue=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(e){var a;return Object(be.a)(this,n),(a=t.call(this,e)).state={userId:""},a.handleChange=a.handleChange.bind(Object(ke.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(ke.a)(a)),a}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchGroup(this.props.match.params.groupId)}},{key:"handleChange",value:function(e){this.setState(Object(xe.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{this.props.addUser(this.props.group.id,this.state.userId)}catch(n){console.log("handlesubmit err",n)}case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.group;return r.a.createElement("div",{key:e.id,id:"group-info"},"Edit group",r.a.createElement("form",{id:"addform",onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Add a User"),r.a.createElement("label",{htmlFor:"userId"},"id"),r.a.createElement("input",{name:"userId",type:"text",onChange:this.handleChange,value:this.props.userId}),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("h1",{className:"tool-title"},"Group: ",e.name),r.a.createElement("img",{src:e.imageUrl}),r.a.createElement("h3",null,"Description: ",e.description),"Users:",e.users?r.a.createElement("div",null,e.users.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("img",{src:e.avatarUrl}),"owner"===e.User_Group.role?r.a.createElement("h3",null,e.firstName," ",e.lastName," \ud83c\udf1f "):"admin"===e.User_Group.role?r.a.createElement("h3",null,e.firstName," ",e.lastName," \ud83c\udfc5"):r.a.createElement("h3",null,e.firstName," ",e.lastName))}))):"This group has no members.")}}]),n}(r.a.Component),_e=Object(s.b)((function(e){return{group:e.singleGroup}}),(function(e){return{fetchGroup:function(t){return e(function(e){return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/groups/".concat(e));case 3:a=t.sent,r=a.data,n(ee(r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("There was a problem fetching this group!"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},updateGroup:function(t){return e(te(t))},addUser:function(t,n){return e(function(e,t){return function(){var n=Object(f.a)(d.a.mark((function n(a){var r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.post("/api/groups/".concat(e),{userId:t});case 3:r=n.sent,c=r.data,a(ee(c)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))(Ue),Fe=function(e){Object(ye.a)(n,e);var t=Object(we.a)(n);function n(){return Object(be.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.loadInitialData()}},{key:"render",value:function(){var e=this.props.isLoggedIn;return r.a.createElement(me.d,null,r.a.createElement(me.b,{path:"/login",component:fe}),r.a.createElement(me.b,{path:"/signup",component:ve}),r.a.createElement(me.b,{exact:!0,path:"/",component:pe}),e&&r.a.createElement(me.d,null,r.a.createElement(me.b,{exact:!0,path:"/home",component:le}),r.a.createElement(me.b,{exact:!0,path:"/account",component:ge}),r.a.createElement(me.b,{exact:!0,path:"/account/settings",component:je}),r.a.createElement(me.b,{path:"/grocery",component:Ie}),r.a.createElement(me.b,{exact:!0,path:"/tasks",component:Ce}),r.a.createElement(me.b,{exact:!0,path:"/groups",component:De}),r.a.createElement(me.b,{exact:!0,path:"/groups/create",component:Ae}),r.a.createElement(me.b,{path:"/groups/:groupId",component:_e})),r.a.createElement(me.b,{component:fe}))}}]),n}(a.Component),Le=Object(me.g)(Object(s.b)((function(e){return{isLoggedIn:!!e.user.id}}),(function(e){return{loadInitialData:function(){e(x())}}}))(Fe)),Re=(n(77),function(){return r.a.createElement("div",{className:"app-wrap"},r.a.createElement(ue,null),r.a.createElement("div",{id:"sitebody"},r.a.createElement(Le,null),r.a.createElement(ie,null)))}),Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},We=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(s.a,{store:oe},r.a.createElement(me.c,{history:E},r.a.createElement(Re,null))),document.getElementById("app")),Pe(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");We?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ke(t,e)}))}}()}},[[78,1,2]]]);
//# sourceMappingURL=main.01557911.chunk.js.map